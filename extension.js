"use strict";const vscode=require("vscode");function activate(e){let o,t,n,i,c,r,s,a,d,l,u,v,g,p,x,f,w,C,h,T,A,k,D,E,F=void 0,m=vscode.window.activeTextEditor;function B(){0===h?b():(void 0!==F&&clearTimeout(F),F=setTimeout(b,h))}function b(){if(void 0!==F&&clearTimeout(F),!m)return;const e=m.document,c=e.getText();if(!0===o||!0===g||!0===t||!0===p||!0===n){const i="\t",r="ã€€",s="\n",a=[],d=[],l=[];let u="[";!0!==o&&!0!==g||(u+=i),!0!==t&&!0!==p||(u+=r),!0===n&&(u+=s),u+="]";const v=new RegExp(u,"g");let x;for(;null!==(x=v.exec(c));){const c=x[0];if(!0!==o&&!0!==g||c!==i)if(!0!==t&&!0!==p||c!==r){if(!0===n&&c===s){const o=e.positionAt(x.index),t=e.positionAt(x.index+1),n={range:new vscode.Range(o,t)};l.push(n)}}else{const o=e.positionAt(x.index),t=e.positionAt(x.index+1),n={range:new vscode.Range(o,t)};d.push(n)}else{const o=e.positionAt(x.index),t=e.positionAt(x.index+1),n={range:new vscode.Range(o,t)};a.push(n)}}!0!==o&&!0!==g||m.setDecorations(A,a),!0!==t&&!0!==p||m.setDecorations(k,d),!0===n&&m.setDecorations(D,l)}if(!0===i){const o=c.length;m.setDecorations(E,[{range:new vscode.Range(e.positionAt(o-1),e.positionAt(o))}])}}function O(e,o,t,n,i,c,r){let s={},a=n&&r>0?(Math.max(o.length,0)*r/100).toFixed(2)+"ex":"0px",d=c?"before":"after";return s[d]={width:a},e&&(s[d].contentText=o,s[d].color=t),n&&((r?s[d]:s).backgroundColor=i),vscode.window.createTextEditorDecorationType(s)}function W(){let e=vscode.workspace.getConfiguration("whitespacepp");o=e.renderTAB,t=e.renderWS,n=e.renderLF,i=e.renderEOF,c=e.textTAB,r=e.textWS,s=e.textLF,a=e.textEOF,d=e.foreColorTAB,l=e.foreColorWS,u=e.foreColorLF,v=e.foreColorEOF,g=e.changeBackColorTAB,p=e.changeBackColorWS,x=e.changeBackColorEOF,f=e.backColorTAB,w=e.backColorWS,C=e.backColorEOF,h=e.renderingDelayMs,T=e.adjustWidthEOF,!0!==i&&(x=!1)}function R(){A=O(o,c,d,g,f,!0,0),k=O(t,r,l,p,w,!0,0),D=O(n,s,u,!1,0,!0,0),E=O(i,a,v,x,C,!1,T)}W(),R(),m&&b(),vscode.workspace.onDidChangeConfiguration(e=>{W(),R()}),vscode.window.onDidChangeActiveTextEditor(e=>{m=e,e&&B()},null,e.subscriptions),vscode.workspace.onDidChangeTextDocument(e=>{m&&e.document===m.document&&B()},null,e.subscriptions)}function deactivate(){}exports.activate=activate,module.exports={activate:activate,deactivate:deactivate};