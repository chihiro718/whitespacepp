"use strict";const vscode=require("vscode");function activate(e){let o=vscode.workspace.getConfiguration("whitespacepp"),t=o.renderTAB,n=o.renderWS,i=o.renderLF,c=o.renderEOF,r=o.textTAB,s=o.textWS,a=o.textLF,d=o.textEOF,l=o.foreColorTAB,u=o.foreColorWS,v=o.foreColorLF,p=o.foreColorEOF,g=o.changeBackColorTAB,x=o.changeBackColorWS,f=o.changeBackColorLF,C=o.changeBackColorEOF,w=o.backColorTAB,T=o.backColorWS,A=o.backColorLF,h=o.backColorEOF,k=o.renderingDelayMs,F=R(r,l,g,w,!0),B=R(s,u,x,T,!0),D=R(a,v,f,A,!0),E=R(d,p,C,h,!1),b=void 0,m=vscode.window.activeTextEditor;function L(){0===k?O():(void 0!==b&&clearTimeout(b),b=setTimeout(O,k))}function O(){if(void 0!==b&&clearTimeout(b),!m)return;const e=m.document,o=e.getText();if(!0===t||!0===n||!0===i){const c="\t",r="ã€€",s="\n",a=[],d=[],l=[];let u="[";t&&(u+=c),n&&(u+=r),i&&(u+=s),u+="]";const v=new RegExp(u,"g");let p;for(;null!==(p=v.exec(o));){const o=p[0];if(t&&o===c){const o=e.positionAt(p.index),t=e.positionAt(p.index+1),n={range:new vscode.Range(o,t)};a.push(n)}else if(n&&o===r){const o=e.positionAt(p.index),t=e.positionAt(p.index+1),n={range:new vscode.Range(o,t)};d.push(n)}else if(i&&o===s){const o=e.positionAt(p.index),t=e.positionAt(p.index+1),n={range:new vscode.Range(o,t)};l.push(n)}}t&&m.setDecorations(F,a),n&&m.setDecorations(B,d),i&&m.setDecorations(D,l)}if(!0===c){const t=o.length;m.setDecorations(E,[{range:new vscode.Range(e.positionAt(t-1),e.positionAt(t))}])}}function R(e,o,t,n,i){let c={};return t&&(c.backgroundColor=n),c[!0===i?"before":"after"]={contentText:e,color:o,width:"0px"},vscode.window.createTextEditorDecorationType(c)}m&&O(),vscode.window.onDidChangeActiveTextEditor(e=>{m=e,e&&L()},null,e.subscriptions),vscode.workspace.onDidChangeTextDocument(e=>{m&&e.document===m.document&&L()},null,e.subscriptions)}function deactivate(){}exports.activate=activate,module.exports={activate:activate,deactivate:deactivate};